(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{24:function(t,e,c){},26:function(t,e,c){},33:function(t,e,c){},34:function(t,e,c){},35:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),r=c(18),a=c.n(r),o=(c(24),c(2)),i=c(8),j=c.n(i),l=c(11),u=c(7),b=(c(26),"https://bloggy-api.herokuapp.com"),d=new Headers;d.append("Content-Type","application/json");var p=function(){return(t="/posts",fetch("".concat(b).concat(t)).then((function(t){if(t.ok)return t.json();throw new Error("Error")}))).catch((function(){return[]}));var t},h=function(){var t=Object(l.a)(j.a.mark((function t(e){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={method:"POST",headers:d,body:JSON.stringify(e),redirect:"follow"},t.next=3,fetch("".concat(b,"/posts"),c);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(l.a)(j.a.mark((function t(e){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={method:"DELETE"},t.next=3,fetch("".concat(b,"/posts/").concat(e),c);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=c(9),f=c(0),m=function(t){var e=t.posts,c=t.onPostDelete;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Post List"}),Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{className:"table-dark",children:[Object(f.jsx)("th",{scope:"col",children:"#"}),Object(f.jsx)("th",{scope:"col",children:"Post"}),Object(f.jsx)("th",{scope:"col",children:"Go to"}),Object(f.jsx)("th",{scope:"col",children:"Delete post"})]})}),Object(f.jsx)("tbody",{children:e.map((function(t){return Object(f.jsxs)("tr",{className:"table-light",children:[Object(f.jsx)("th",{scope:"row",children:t.id}),Object(f.jsx)("td",{children:t.title}),Object(f.jsx)("td",{children:Object(f.jsx)(x.b,{className:"btn btn-primary",to:"/post-details/".concat(t.id),children:"Details"})}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{type:"button",className:"btn btn-danger",to:"/post-details/:postId",onClick:function(){return c(t.id)},children:"Delete"})})]},t.id)}))})]})]})},v=(c(33),function(){return Object(f.jsx)("div",{className:"Loader",children:Object(f.jsx)("div",{className:"Loader__content"})})}),N=function(t){var e=t.formPurpose,c=t.onSubmit,s=Object(n.useState)(""),r=Object(u.a)(s,2),a=r[0],o=r[1],i=Object(n.useState)(""),j=Object(u.a)(i,2),l=j[0],b=j[1];return Object(f.jsxs)("form",{onSubmit:function(t){c(t,a,l),o(""),b("")},children:[Object(f.jsx)("h2",{children:"".concat(e," Post")}),Object(f.jsxs)("div",{className:"input-group mb-3",children:[Object(f.jsx)("label",{className:"input-group-text",id:"basic-addon2",children:"title"}),Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"Write here...",value:a,onChange:function(t){return o(t.target.value)},required:!0})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("label",{className:"input-group-text",children:"body"}),Object(f.jsx)("textarea",{className:"form-control",placeholder:"Write here...",value:l,onChange:function(t){return b(t.target.value)},required:!0})]}),Object(f.jsx)("button",{className:"btn btn-success",children:e})]})},g=function(){var t=Object(n.useState)([]),e=Object(u.a)(t,2),c=e[0],s=e[1],r=Object(n.useState)(!1),a=Object(u.a)(r,2),o=a[0],i=a[1],b=Object(n.useState)(!1),d=Object(u.a)(b,2),x=d[0],g=d[1];Object(n.useEffect)((function(){i(!0),p().then((function(t){s(t),i(!1)}))}),[x]);var y=function(){var t=Object(l.a)(j.a.mark((function t(e,c,n){var s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),s={title:c,body:n},t.next=4,h(s);case 4:g(!x);case 5:case"end":return t.stop()}}),t)})));return function(e,c,n){return t.apply(this,arguments)}}(),w=function(){var t=Object(l.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:g(!x);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"homepage",children:[Object(f.jsx)(N,{onSubmit:y,formPurpose:"Create"}),o?Object(f.jsx)(v,{}):Object(f.jsx)(m,{posts:c,onPostDelete:w})]})},y=function(){return Object(f.jsx)("h1",{children:"Page Not Found"})},w=(c(34),function(t){var e=t.post;return Object(f.jsxs)("div",{className:"card text-white bg-secondary mb-3",children:[Object(f.jsx)("div",{className:"card-header",children:"#".concat(e.id," Post Details")}),Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h5",{className:"card-title",children:e.title}),Object(f.jsx)("p",{className:"card-text",children:e.body})]})]})}),S=Object(o.g)((function(t){var e=t.match,c=Object(n.useState)(null),s=Object(u.a)(c,2),r=s[0],a=s[1],o=Object(n.useState)(!1),i=Object(u.a)(o,2),j=i[0],l=i[1],b=Number(e.params.postId);return Object(n.useEffect)((function(){p().then((function(t){var e=t.find((function(t){return t.id===b}));a(e)}))}),[b]),null===r?Object(f.jsx)(v,{}):Object(f.jsxs)("div",{className:"post-details",children:[Object(f.jsx)(w,{post:r}),Object(f.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(f.jsx)(x.b,{className:"btn btn-primary",to:"/",children:"Go to Homepage"}),Object(f.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){return l(!j)},children:"Update post"}),Object(f.jsx)("button",{type:"button",className:"btn btn-success",children:"Open comments"})]}),j&&Object(f.jsx)(N,{formPurpose:"Update"})]})})),k=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/",exact:!0,children:Object(f.jsx)(g,{})}),Object(f.jsx)(o.b,{path:"/post-details/:postId",children:Object(f.jsx)(S,{})}),Object(f.jsx)(o.a,{path:"/home",to:"/"}),Object(f.jsx)(y,{})]})})};a.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(x.a,{children:Object(f.jsx)(k,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.9d2bba68.chunk.js.map