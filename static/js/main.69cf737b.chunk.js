(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{24:function(e,t,c){},26:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(18),a=c.n(s),o=(c(24),c(2)),i=c(7),j=c.n(i),l=c(10),u=c(11),b=(c(26),"https://bloggy-api.herokuapp.com"),d=new Headers;d.append("Content-Type","application/json");var h=function(){return(e="/posts",fetch("".concat(b).concat(e)).then((function(e){if(e.ok)return e.json();throw new Error("Error")}))).catch((function(){return[]}));var e},p=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"POST",headers:d,body:JSON.stringify(t),redirect:"follow"},e.next=3,fetch("".concat(b,"/posts"),c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"DELETE"},e.next=3,fetch("".concat(b,"/posts/").concat(t),c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=c(8),f=c(0),m=function(e){var t=e.posts,c=e.onPostDelete;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Post List"}),Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{className:"table-dark",children:[Object(f.jsx)("th",{scope:"col",children:"#"}),Object(f.jsx)("th",{scope:"col",children:"Post"}),Object(f.jsx)("th",{scope:"col",children:"Go to"}),Object(f.jsx)("th",{scope:"col",children:"Delete post"})]})}),Object(f.jsx)("tbody",{children:t.map((function(e){return Object(f.jsxs)("tr",{className:"table-light",children:[Object(f.jsx)("th",{scope:"row",children:e.id}),Object(f.jsx)("td",{children:e.title}),Object(f.jsx)("td",{children:Object(f.jsx)(x.b,{className:"btn btn-primary",to:"/post-details/".concat(e.id),children:"Details"})}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{type:"button",className:"btn btn-danger",to:"/post-details/:postId",onClick:function(){return c(e.id)},children:"Delete"})})]},e.id)}))})]})]})},v=(c(33),function(){return Object(f.jsx)("div",{className:"Loader",children:Object(f.jsx)("div",{className:"Loader__content"})})}),g=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),a=Object(u.a)(s,2),o=a[0],i=a[1],b=Object(n.useState)(""),d=Object(u.a)(b,2),x=d[0],g=d[1],N=Object(n.useState)(""),y=Object(u.a)(N,2),w=y[0],k=y[1],S=Object(n.useState)(!1),D=Object(u.a)(S,2),E=D[0],P=D[1];Object(n.useEffect)((function(){i(!0),h().then((function(e){r(e),i(!1)}))}),[E]);var C=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={title:x,body:w},e.next=4,p(c);case 4:P(!E),g(""),k("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:P(!E);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"homepage",children:[Object(f.jsxs)("form",{onSubmit:function(e){return C(e)},children:[Object(f.jsx)("h2",{children:"Create Post"}),Object(f.jsxs)("div",{className:"input-group mb-3",children:[Object(f.jsx)("label",{className:"input-group-text",id:"basic-addon2",children:"title"}),Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"Write here...",value:x,onChange:function(e){return g(e.target.value)},required:!0})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("label",{className:"input-group-text",children:"body"}),Object(f.jsx)("textarea",{className:"form-control",placeholder:"Write here...",value:w,onChange:function(e){return k(e.target.value)},required:!0})]}),Object(f.jsx)("button",{className:"btn btn-success",children:"Create"})]}),o?Object(f.jsx)(v,{}):Object(f.jsx)(m,{posts:c,onPostDelete:L})]})},N=function(){return Object(f.jsx)("h1",{children:"Page Not Found"})},y=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Hello"}),Object(f.jsx)(x.b,{className:"btn btn-primary",to:"/",children:"Go to Homepage"})]})},w=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/",exact:!0,children:Object(f.jsx)(g,{})}),Object(f.jsx)(o.b,{path:"/post-details/:postId",children:Object(f.jsx)(y,{})}),Object(f.jsx)(o.a,{path:"/home",to:"/"}),Object(f.jsx)(N,{})]})})};a.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(x.a,{children:Object(f.jsx)(w,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.69cf737b.chunk.js.map