{"version":3,"sources":["api/api.js","api/posts.js","components/PostsList/PostsList.jsx","components/Loader/Loader.jsx","components/UpdateForm/UpdateForm.jsx","pages/Homepage/HomePage.jsx","pages/NotFoundPage/NotFoundPage.jsx","api/comments.js","components/PostDetails/PostDetails.jsx","components/CommentForm/CommentForm.jsx","pages/PostDetailsPage/PostDetailsPage.jsx","App.jsx","index.js"],"names":["BASE_URL","getData","url","fetch","then","response","ok","json","Error","myHeaders","Headers","append","getAllPosts","catch","addPost","post","a","requestOptions","method","headers","body","JSON","stringify","redirect","deletePost","postId","updatePost","PostsList","posts","onPostDelete","className","scope","map","id","title","to","type","onClick","Loader","UpdateForm","formPurpose","onSubmit","useState","newPostTitle","setPostTitle","newPostBody","setPostBody","event","placeholder","value","onChange","target","required","HomePage","setPosts","isLoading","switchLoadingStatus","isPostListChanged","switchPostListStatus","useEffect","onPostAdd","preventDefault","newPost","NotFoundPage","addComment","comment","PostDetails","comments","index","CommentForm","newCommentBody","setCommentBody","PostDetailsPage","withRouter","match","currentPost","setCurrentPost","shouldUpdate","switchShouldUpdateStatus","shouldWriteComment","switchShouldWriteCommentStatus","currentPostId","Number","params","relevantPost","find","onPostUpdate","updatedPost","onCommentAdd","newComment","role","App","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bff779d4.chunk.js","sourcesContent":["export const BASE_URL = 'https://bloggy-api.herokuapp.com';\n\nexport const getData = url => fetch(`${BASE_URL}${url}`)\n  .then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    throw new Error('Error');\n  })\n","import { getData, BASE_URL } from './api';\r\n\r\nconst myHeaders = new Headers();\r\nmyHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\nexport const getAllPosts = () => getData('/posts/?_embed=comments')\r\n  .catch(() => []);\r\n\r\nexport const getAllPosts2 = () => getData('/posts/?_embed=comments')\r\n  .catch(() => []);\r\n\r\nexport const addPost = async(post) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: myHeaders,\r\n    body: JSON.stringify(post),\r\n    redirect: 'follow'\r\n  };\r\n\r\n  await fetch(`${BASE_URL}/posts`, requestOptions);\r\n};\r\n\r\nexport const deletePost = async(postId) => {\r\n  const requestOptions = {\r\n    method: 'DELETE',\r\n  };\r\n\r\n  await fetch(`${BASE_URL}/posts/${postId}`, requestOptions);\r\n};\r\n\r\nexport const updatePost = async(post, postId) => {\r\n  const requestOptions = {\r\n    method: 'PUT',\r\n    headers: myHeaders,\r\n    body: JSON.stringify(post),\r\n    redirect: 'follow'\r\n  };\r\n\r\n  await fetch(`${BASE_URL}/posts/${postId}`, requestOptions);\r\n};\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport const PostsList = ({ posts, onPostDelete }) => (\r\n  <div>\r\n    <h2>Post List</h2>\r\n    <table className=\"table\">\r\n      <thead>\r\n        <tr className=\"table-dark\">\r\n          <th scope=\"col\">#</th>\r\n          <th scope=\"col\">Post</th>\r\n          <th scope=\"col\">Go to</th>\r\n          <th scope=\"col\">Delete post</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {posts.map((post) => (\r\n          <tr key={post.id} className=\"table-light\">\r\n            <th scope=\"row\">{post.id}</th>\r\n            <td>{post.title}</td>\r\n            <td>\r\n              <NavLink className=\"btn btn-primary\" to={`/post-details/${post.id}`}>\r\n                Details\r\n              </NavLink>\r\n            </td>\r\n            <td>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger\"\r\n                to=\"/post-details/:postId\"\r\n                onClick={() => onPostDelete(post.id)}\r\n              >\r\n                Delete\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n);\r\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React, { useState } from 'react';\r\nimport './UpdateForm.css'\r\n\r\nexport const UpdateForm = ({ formPurpose, onSubmit }) => {\r\n  const [newPostTitle, setPostTitle] = useState('');\r\n  const [newPostBody, setPostBody] = useState('');\r\n\r\n  return (\r\n    <form onSubmit={(event) => {\r\n        onSubmit(event, newPostTitle, newPostBody);\r\n        setPostTitle('');\r\n        setPostBody('');\r\n    }}>\r\n      <h2>{`${formPurpose} Post`}</h2>\r\n      <div className=\"input-group mb-3\">\r\n        <label className=\"input-group-text\" id=\"basic-addon2\">title</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Write here...\"\r\n          value={newPostTitle}\r\n          onChange={event => setPostTitle(event.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"input-group\">\r\n        <label className=\"input-group-text\">body</label>\r\n        <textarea\r\n          className=\"form-control\"\r\n          placeholder=\"Write here...\"\r\n          value={newPostBody}\r\n          onChange={event => setPostBody(event.target.value)}\r\n          required\r\n        ></textarea>\r\n      </div>\r\n      <button className=\"btn btn-success\">\r\n        {formPurpose}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import { useEffect, useState } from 'react';\nimport './Homepage.css';\nimport { getAllPosts, addPost, deletePost } from '../../api/posts';\nimport { PostsList } from '../../components/PostsList';\nimport { Loader } from '../../components/Loader';\nimport { UpdateForm } from '../../components/UpdateForm';\n\nexport const HomePage = () => {\n  const [posts, setPosts] = useState([]);\n  const [isLoading, switchLoadingStatus] = useState(false);\n  const [isPostListChanged, switchPostListStatus] = useState(false)\n\n  useEffect(() => {\n    switchLoadingStatus(true);\n    getAllPosts().then(posts => {\n      setPosts(posts)\n      switchLoadingStatus(false);\n    });\n  }, [isPostListChanged]);\n\n  const onPostAdd = async(event, title, body) => {\n    event.preventDefault();\n\n    const newPost = {\n      title,\n      body\n    };\n\n    await addPost(newPost);\n    switchPostListStatus(!isPostListChanged);\n  }\n\n  const onPostDelete = async(postId) => {\n    await deletePost(postId);\n    switchPostListStatus(!isPostListChanged);\n  }\n\n  return (\n    <div className=\"homepage\">\n      <UpdateForm onSubmit={onPostAdd} formPurpose=\"Create\" />\n      {\n        isLoading\n          ? <Loader />\n          : (\n            <PostsList\n              posts={posts}\n              onPostDelete={onPostDelete}\n            />\n          )\n      }\n    </div>\n  );\n}\n","export const NotFoundPage = () => (\n  <h1>Page Not Found</h1>\n);\n","import { BASE_URL } from './api';\n\nconst myHeaders = new Headers();\nmyHeaders.append(\"Content-Type\", \"application/json\");\n\nexport const addComment = async(comment) => {\n  const requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: JSON.stringify(comment),\n    redirect: 'follow'\n  };\n\n  await fetch(`${BASE_URL}/comments`, requestOptions);\n};","import React from 'react';\r\n\r\nexport const PostDetails = ({ post }) => (\r\n  <div className=\"card text-white bg-secondary mb-3\">\r\n    <div className=\"card-header\">{`#${post.id} Post Details`}</div>\r\n    <div className=\"card-body\">\r\n      <h5 className=\"card-title\">{`Title: ${post.title}`}</h5>\r\n      <h5 className=\"card-title\">{`Body: ${post.body}`}</h5>\r\n      <h5 className=\"card-title\">Comments:</h5>\r\n      {post.comments.map((comment, index) => (\r\n        <p key={comment.id} className=\"card-text\">\r\n          {`${index + 1}: ${comment.body}`}\r\n        </p>\r\n      ))}\r\n    </div>\r\n  </div>\r\n);\r\n","import React, { useState } from 'react';\r\nimport './CommentForm.css'\r\n\r\nexport const CommentForm = ({ onSubmit }) => {\r\n  const [newCommentBody, setCommentBody] = useState('');\r\n\r\n  return (\r\n    <form onSubmit={(event) => {\r\n        onSubmit(event, newCommentBody);\r\n        setCommentBody('');\r\n    }}>\r\n      <h2>Write Comment</h2>\r\n      <div className=\"input-group\">\r\n        <label className=\"input-group-text\">body</label>\r\n        <textarea\r\n          className=\"form-control\"\r\n          placeholder=\"Write here...\"\r\n          value={newCommentBody}\r\n          onChange={event => setCommentBody(event.target.value)}\r\n          required\r\n        ></textarea>\r\n      </div>\r\n      <button className=\"btn btn-success\">\r\n        Write\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport './PostDetailsPage.css'\nimport { getAllPosts, updatePost } from '../../api/posts';\nimport { addComment } from '../../api/comments';\nimport { Loader } from '../../components/Loader';\nimport { PostDetails } from '../../components/PostDetails';\nimport { UpdateForm } from '../../components/UpdateForm';\nimport { CommentForm } from '../../components/CommentForm';\n\nexport const PostDetailsPage = withRouter(\n  ({ match }) => {\n    const [currentPost, setCurrentPost] = useState(null);\n    const [shouldUpdate, switchShouldUpdateStatus] = useState(false)\n    const [shouldWriteComment, switchShouldWriteCommentStatus] = useState(false)\n    const currentPostId = Number(match.params.postId);\n\n    useEffect(() => {\n      getAllPosts().then(posts => {\n        const relevantPost = posts.find(post => post.id === currentPostId);\n        setCurrentPost(relevantPost);\n      });\n    }, [currentPostId, shouldUpdate, shouldWriteComment])\n\n    const onPostUpdate = async(event, title, body) => {\n      event.preventDefault();\n  \n      const updatedPost = {\n        title,\n        body\n      };\n\n      await updatePost(updatedPost, currentPostId);\n      switchShouldUpdateStatus(false);\n    }\n\n    const onCommentAdd = async(event, body) => {\n      event.preventDefault();\n  \n      const newComment = {\n        postId: currentPostId,\n        body\n      };\n\n      await addComment(newComment);\n      switchShouldWriteCommentStatus(false);\n    }\n\n    return currentPost === null ? <Loader /> : (\n      <div className=\"post-details\">\n        <PostDetails post={currentPost} />\n        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic mixed styles example\">\n          <NavLink className=\"btn btn-primary\" to=\"/\">\n            Go to Homepage\n          </NavLink>\n          <button\n            type=\"button\"\n            className=\"btn btn-warning\"\n            onClick={() => switchShouldUpdateStatus(!shouldUpdate)}\n          >\n            Update post\n          </button>\n          <button\n            type=\"button\"\n            className=\"btn btn-success\"\n            onClick={() => switchShouldWriteCommentStatus(!shouldWriteComment)}\n          >\n            Write comment\n          </button>\n        </div>\n        {shouldWriteComment && <CommentForm onSubmit={onCommentAdd} />}\n        {shouldUpdate && (\n          <UpdateForm\n            onSubmit={onPostUpdate}\n            formPurpose=\"Update\"\n          />\n        )}\n      </div>\n    );\n  }\n);\n","import './App.css';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { HomePage } from './pages/Homepage';\nimport { NotFoundPage } from './pages/NotFoundPage';\nimport { PostDetailsPage } from './pages/PostDetailsPage';\n\nexport const App = () => (\n  <div className=\"App\">\n    <Switch>\n      <Route path=\"/\" exact>\n        <HomePage />\n      </Route>\n      <Route path=\"/post-details/:postId\">\n        <PostDetailsPage />\n      </Route>\n      <Redirect path=\"/home\" to=\"/\" />\n\n      <NotFoundPage />\n    </Switch>\n  </div>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}